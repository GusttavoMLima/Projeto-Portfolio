/* --- VARIÁVEIS DE CORES E TIPOGRAFIA --- */
:root {
    /* Tema Claro (Padrão) */
    --bg-color: #f8f9fa;
    --bg-secondary-color: #ffffff;
    --text-color: #343a40;
    --text-muted-color: #6c757d;
    --primary-color: #0056b3;
    --border-color: #ddd;

    /* Fontes (do Google Fonts) */
    --font-title: 'Montserrat', sans-serif;
    --font-body: 'Lato', sans-serif;
    
    /* Adiciona a variável de cor primária em RGB (para futuros efeitos) */
    --primary-color-rgb: 0, 86, 179;
}

/* --- ESTILOS GERAIS --- */
html {
    scroll-behavior: smooth;
}

body {
    padding-top: 56px; /* Espaço para o menu fixo no topo */
    background-color: var(--bg-secondary-color);
    color: var(--text-color);
    font-family: var(--font-body);
}

/* Define as fontes para títulos */
h1, h2, h3, h4, h5, h6, .navbar-brand {
    font-family: var(--font-title);
    font-weight: 700;
}

/* Define o padding padrão das seções */
section {
    padding: 80px 0;
}

/* Define a cor de fundo das seções "light" */
.bg-light {
    background-color: var(--bg-color) !important;
}

/* --- COMPONENTES --- */
/* Menu */
.navbar {
    /* Faz o menu começar transparente */
    background-color: transparent !important;
    transition: background-color 0.4s ease-out, box-shadow 0.3s ease-out;
}

/* Define a cor do texto do menu para o nosso tema */
.navbar .nav-link,
.navbar .navbar-brand {
    color: var(--text-color) !important;
    transition: color 0.3s ease, transform 0.2s ease;
    position: relative;
}

/* Animação suave nos links do navbar ao passar o mouse */
.navbar .nav-link:hover {
    color: var(--primary-color) !important;
    transform: translateY(-2px);
}

/* Animação suave no brand ao passar o mouse */
.navbar .navbar-brand:hover {
    color: var(--primary-color) !important;
    transform: scale(1.05);
}

/* Botão de tema com animações fluidas */
#theme-toggle {
    transition: transform 0.3s ease, opacity 0.3s ease, background-color 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.5rem;
    border-radius: 50%;
}

#theme-toggle:hover {
    transform: scale(1.15) rotate(15deg);
    background-color: rgba(var(--primary-color-rgb), 0.1);
}

#theme-toggle:active {
    transform: scale(0.95);
}

/* Botão do menu mobile com transição suave */
.navbar-toggler {
    transition: transform 0.3s ease, opacity 0.3s ease;
    border: none;
    padding: 0.5rem;
}

.navbar-toggler:hover {
    transform: scale(1.1);
    opacity: 0.8;
}

.navbar-toggler:focus {
    box-shadow: 0 0 0 0.25rem rgba(var(--primary-color-rgb), 0.25);
    transition: box-shadow 0.3s ease;
}

/* Ícone do tema com rotação suave */
#theme-toggle i {
    transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55), 
                color 0.3s ease,
                opacity 0.3s ease;
    font-size: 1.2rem;
}

/* Rotação do ícone ao trocar tema */
#theme-toggle:hover i {
    transform: rotate(20deg);
}

/* Transição suave para o body ao trocar tema */
body {
    transition: background-color 0.4s ease, color 0.4s ease;
}

/* Transição suave para elementos ao trocar tema */
* {
    transition: background-color 0.3s ease, 
                color 0.3s ease, 
                border-color 0.3s ease;
}

/* --- Título com Gradiente --- */
#inicio h1 {
    background: linear-gradient(45deg, var(--primary-color), var(--text-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    
    /* Fallback para navegadores que não suportam o efeito */
    color: var(--text-color); 
}

/* --- Linha do Tempo --- */
.timeline {
    position: relative;
    padding: 20px 0;
    /* Cria a linha vertical central */
    border-left: 2px solid var(--border-color);
    margin-left: 20px;
}

.timeline-item {
    position: relative;
    margin-bottom: 40px;
    padding-left: 40px;
}

.timeline-dot {
    position: absolute;
    left: -9px; /* Posiciona o ponto exatamente sobre a linha */
    top: 0;
    height: 16px;
    width: 16px;
    background-color: var(--bg-secondary-color); /* Cor de fundo para "recortar" a linha */
    border: 3px solid var(--primary-color); /* Borda azul */
    border-radius: 50%;
}

.timeline-content h5 {
    color: var(--text-color);
}

.timeline-content p {
    margin-bottom: 0;
}

/* Define a cor do texto "muted" usando a variável */
.text-muted {
    color: var(--text-muted-color) !important;
}

/* --- Habilidades: Ícones Interativos --- */

/* Define a cor padrão e a transição */
#habilidades i {
    color: var(--text-color);
    transition: color 0.3s ease-in-out;
}

/* Garante a cor correta no modo escuro */
body.dark-mode #habilidades i {
    color: var(--text-color);
}

/* Efeito de crescimento (já adicionado em outro commit, mas pode repetir aqui para organização) */
#habilidades .col-md-3 {
    transition: transform .3s ease-in-out;
}
#habilidades .col-md-3:hover {
    transform: scale(1.1);
}

/* Cores específicas no hover */
#habilidades .col-md-3:hover .bi-filetype-html { color: #E44D26; /* Laranja HTML5 */ }
#habilidades .col-md-3:hover .bi-filetype-css { color: #264DE4; /* Azul CSS3 */ }
#habilidades .col-md-3:hover .bi-bootstrap-fill { color: #7952B3; /* Roxo Bootstrap */ }
#habilidades .col-md-3:hover .bi-git { color: #F05032; /* Laranja Git */ }

/* --- Projetos: Estilos dos Cards e Tags --- */

/* Efeito hover no card (pode já existir de commits anteriores, verifique) */
.card.shadow-sm:hover {
    transform: translateY(-5px);
    box-shadow: 0 .5rem 1rem rgba(0, 0, 0, .15) !important;
    transition: transform .3s ease-in-out, box-shadow .3s ease-in-out;
}

/* Garante que o rodapé do card use a cor de fundo correta */
.card-footer {
    background-color: var(--bg-secondary-color) !important;
    border-top: 1px solid var(--border-color) !important; /* Adiciona uma linha sutil */
}

/* Estilos das Tags de Tecnologia */
.project-tags {
    padding-top: 10px; /* Adiciona um espaço acima das tags */
}

.project-tags .badge {
    display: inline-block;
    padding: 0.4em 0.7em;
    font-size: 0.75rem;
    font-weight: 600;
    line-height: 1;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: 0.25rem;
    background-color: var(--bg-color); /* Fundo da tag */
    color: var(--primary-color); /* Cor do texto da tag */
    border: 1px solid var(--primary-color);
    margin-right: 5px;
    margin-bottom: 5px;
}

/* --- Contato: Estilos do Formulário --- */

.contact-form .form-control {
    background-color: var(--bg-color); /* Usa a cor de fundo 'light' */
    border: 1px solid var(--border-color);
    color: var(--text-color);
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Estilo quando o campo está em foco (selecionado) */
.contact-form .form-control:focus {
    background-color: var(--bg-secondary-color); /* Fundo branco/escuro */
    border-color: var(--primary-color);
    /* Usa a variável RGB para o box-shadow */
    box-shadow: 0 0 0 0.25rem rgba(var(--primary-color-rgb), 0.25); 
    color: var(--text-color);
}

/* Validação visual dos campos */
.contact-form .form-control.is-valid {
    border-color: #28a745;
    padding-right: calc(1.5em + 0.75rem);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

.contact-form .form-control.is-invalid {
    border-color: #dc3545;
    padding-right: calc(1.5em + 0.75rem);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23dc3545' viewBox='0 0 12 12'%3e%3cpath d='M5.8 3.6L6 3.4l.2.2 2.8 2.8.2.2-.2.2L6.2 8.4l-.2.2-.2-.2-2.8-2.8-.2-.2.2-.2L5.4 3.8l.2-.2zm0 4.8L6 8.2l.2.2 2.8-2.8.2-.2-.2-.2L6.2 4.4l-.2-.2-.2.2-2.8 2.8-.2.2.2.2L5.4 8.4l.2.2z'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

.contact-form .form-control.is-valid:focus {
    border-color: #28a745;
    box-shadow: 0 0 0 0.25rem rgba(40, 167, 69, 0.25);
}

.contact-form .form-control.is-invalid:focus {
    border-color: #dc3545;
    box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25);
}

/* Estilo do botão quando desabilitado */
.contact-form #submitBtn:disabled {
    opacity: 0.65;
    cursor: not-allowed;
}

/* Animação suave para mensagens */
.contact-form .invalid-feedback {
    display: none;
    transition: opacity 0.3s ease;
}

.contact-form .invalid-feedback[style*="display: block"] {
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Cor do label flutuante */
.contact-form .form-floating > label {
    color: var(--text-muted-color);
}

/* --- Rodapé Aprimorado --- */

/* Controla a cor de fundo e texto do rodapé usando variáveis */
.footer-aprimorado {
    background-color: var(--bg-color) !important; /* Usa a cor 'light' do tema */
    color: var(--text-color) !important;
}

/* Cor dos títulos no rodapé */
.footer-aprimorado h5 {
    color: var(--primary-color);
}

/* Estilo dos links de navegação no rodapé */
.footer-link {
    color: var(--text-muted-color);
    text-decoration: none;
    transition: color 0.3s ease;
}
.footer-link:hover {
    color: var(--primary-color);
}

/* Estilo dos botões de ícones sociais no rodapé */
.footer-social-icons .btn-outline-light {
    border-color: var(--text-muted-color);
    color: var(--text-muted-color);
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}
.footer-social-icons .btn-outline-light:hover {
    background-color: var(--primary-color);
    border-color: var(--primary-color);
    color: var(--bg-secondary-color); /* Cor de texto contrastante */
}

/* Ajuste específico para garantir contraste no modo escuro (necessário para sobrescrever .btn-outline-light) */
body.dark-mode .footer-social-icons .btn-outline-light {
    border-color: var(--text-muted-color);
    color: var(--text-muted-color);
}
body.dark-mode .footer-social-icons .btn-outline-light:hover {
     color: var(--bg-secondary-color); /* Garante que o ícone fique claro no hover escuro */
}

/* Estilo da linha divisória (hr) */
.footer-aprimorado hr {
    border-top: 1px solid var(--border-color);
}

/* --- Menu Inteligente (Glassmorphism) --- */

/* Estilo do menu quando a página é rolada */
.navbar.navbar-scrolled {
    /* Define a cor de fundo com transparência */
    background-color: rgba(255, 255, 255, 0.5) !important; /* Branco semi-transparente para tema claro */
    
    /* A propriedade mágica que cria o efeito de desfoque */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px); /* Para compatibilidade com Safari */
    
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra sutil */
    
    /* Transições suaves para todas as propriedades */
    transition: background-color 0.4s ease-out, 
                backdrop-filter 0.4s ease-out,
                box-shadow 0.4s ease-out;
}

/* Ajuste para o modo escuro */
body.dark-mode .navbar.navbar-scrolled {
    background-color: rgba(30, 30, 30, 0.5) !important; /* Cinza escuro semi-transparente para tema escuro */
}

/* --- Botão Voltar ao Topo --- */
#back-to-top {
    position: fixed;      /* Posição fixa na tela */
    bottom: 20px;         /* 20 pixels da margem inferior */
    right: 20px;          /* 20 pixels da margem direita */
    display: none;        /* Começa escondido */
    z-index: 100;         /* Fica acima de outros elementos */
    opacity: 0;           /* Começa transparente */
    transition: opacity 0.3s ease-in-out; /* Transição suave */
    /* Cores já definidas pelas variáveis e estilo .btn-dark, mas podemos forçar */
    background-color: var(--primary-color);
    border-color: var(--primary-color);
    color: white; /* Garante que a seta seja sempre branca */
}

#back-to-top.show {
    display: block;       /* Torna visível */
    opacity: 1;           /* Remove a transparência */
}

/* --- VARIÁVEIS DE CORES E TIPOGRAFIA --- */
:root {
    /* Tema Claro (Padrão) */
    --bg-color: #f8f9fa;
    --bg-secondary-color: #ffffff;
    --text-color: #343a40;
    --text-muted-color: #6c757d;
    --primary-color: #0056b3;
    --border-color: #ddd;
    --font-title: 'Montserrat', sans-serif;
    --font-body: 'Lato', sans-serif;
    --primary-color-rgb: 0, 86, 179;
}

/* ADICIONE ESTA REGRA PARA O MODO ESCURO */
body.dark-mode {
    /* Tema Escuro */
    --bg-color: #121212;
    --bg-secondary-color: #1e1e1e;
    --text-color: #e0e0e0;
    --text-muted-color: #a0a0a0;
    --primary-color: #0d6efd; /* Azul mais vibrante */
    --border-color: #444;
    --primary-color-rgb: 13, 110, 253;
}

/* AJUSTES GERAIS PARA SUPORTAR OS TEMAS */
body {
    /* ... (outros estilos body) ... */
    transition: background-color 0.3s ease, color 0.3s ease; /* Adiciona transição suave */
}

/* AJUSTE NOS BOTÕES PARA O MODO ESCURO */
.btn-dark {
    background-color: var(--text-color);
    border-color: var(--text-color);
    color: var(--bg-secondary-color); /* Garante contraste no texto do botão */
}

/* AJUSTE NO RODAPÉ APRIMORADO */
.footer-aprimorado {
     background-color: var(--bg-color) !important; /* Usa a cor 'light' do tema */
     color: var(--text-color) !important;
     transition: background-color 0.3s ease, color 0.3s ease; /* Adiciona transição */
}
/* (O resto dos estilos do rodapé já devem usar variáveis) */

/* Garante que os estilos de hover dos ícones sociais funcionem bem em ambos os temas */
body.dark-mode .footer-social-icons .btn-outline-light {
    border-color: var(--text-muted-color);
    color: var(--text-muted-color);
}
body.dark-mode .footer-social-icons .btn-outline-light:hover {
     color: var(--bg-secondary-color);
}

/* Garante que os cards usem as variáveis corretamente */
.card {
    background-color: var(--bg-secondary-color);
    border: 1px solid var(--border-color);
    border-top: 4px solid var(--primary-color);
    transition: background-color 0.3s ease, border-color 0.3s ease, border-top-color 0.3s ease;
}
.card .card-title, .card .card-text {
     color: var(--text-color);
     transition: color 0.3s ease;
}
.card-footer {
     background-color: var(--bg-secondary-color) !important;
     border-top: 1px solid var(--border-color) !important;
     transition: background-color 0.3s ease, border-color 0.3s ease;
}

/* --- Efeito "Destacar Texto" na Linha do Tempo --- */

.timeline-item {
    /* Define a aparência padrão (levemente ofuscado) */
    opacity: 0.5;
    transition: opacity 0.4s ease-in-out;
}

.timeline-item.is-in-view {
    /* Define a aparência de destaque (totalmente visível) */
    opacity: 1;
}

/* --- Animação de Carregamento (Preloader) --- */

#preloader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000; /* Garante que fique acima de tudo */
    background-color: var(--bg-secondary-color); /* Usa a cor de fundo secundária do tema */
    display: flex;
    align-items: center;
    justify-content: center;
    transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
    opacity: 1;
    visibility: visible;
}

/* Classe adicionada via JS para esconder o preloader */
#preloader.loaded {
    opacity: 0;
    visibility: hidden;
}

/* O elemento que gira */
.spinner {
    width: 50px;
    height: 50px;
    border: 5px solid rgba(0, 0, 0, 0.1); /* Borda cinza clara */
    border-left-color: var(--primary-color); /* Cor primária na parte que gira */
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

/* Animação de rotação */
@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* --- Barra Lateral de Links Sociais --- */

.social-bar {
    position: fixed;
    top: 50%;
    left: 20px;
    transform: translateY(-50%); /* Centraliza verticalmente */
    z-index: 1000;
    display: flex;
    flex-direction: column; /* Empilha os ícones verticalmente */
    gap: 15px; /* Espaçamento entre os ícones */
}

.social-icon {
    color: var(--text-muted-color);
    font-size: 1.5rem; /* Tamanho do ícone */
    transition: color 0.3s ease, transform 0.3s ease;
}

.social-icon:hover {
    color: var(--primary-color);
    transform: scale(1.2); /* Aumenta o ícone ao passar o mouse */
}

/* --- Divisores de Secção Angulares --- */

/* Prepara as secções claras para o efeito */
.bg-light {
    position: relative; /* Necessário para posicionar o divisor */
    z-index: 1; /* Garante que fique acima de outros elementos posicionados */
}

/* Cria o elemento do divisor angular usando um pseudo-elemento */
.bg-light::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--bg-color); /* Usa a cor de fundo clara do tema */
    z-index: -1; /* Coloca atrás do conteúdo da secção */

    /* A propriedade mágica que cria a forma diagonal */
    /* top-left, top-right, bottom-right, bottom-left */
    clip-path: polygon(0 0, 100% 5%, 100% 100%, 0 95%);
}

/* Ajuste específico para a primeira secção (#inicio) para não cortar o topo */
#inicio::before {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 95%);
}

/* Ajuste específico para a última secção clara (#contato) para não cortar o rodapé */
#contato::before {
     clip-path: polygon(0 0, 100% 5%, 100% 100%, 0 100%);
}

/* --- Barra de Rolagem Estilizada --- */

/* Funciona em navegadores baseados em Webkit (Chrome, Edge, Safari) */
::-webkit-scrollbar {
    width: 10px; /* Largura da barra */
}

::-webkit-scrollbar-track {
    background: var(--bg-color); /* Cor do fundo da barra (usa a cor clara do tema) */
}

::-webkit-scrollbar-thumb {
    background-color: var(--primary-color); /* Cor do marcador que se move (usa a cor primária) */
    border-radius: 20px; /* Bordas arredondadas */
    border: 3px solid var(--bg-color); /* Cria um espaçamento ao redor com a cor clara */
}

/* --- Foto de Perfil na Home --- */
.profile-image-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 2rem;
}

.profile-image {
    width: 300px;
    height: 300px;
    object-fit: cover;
    border: 5px solid var(--primary-color);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.profile-image:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(var(--primary-color-rgb), 0.3);
}

/* --- Texto de Missão --- */
.mission-text {
    color: var(--primary-color);
    font-style: italic;
}

/* --- Projeto em Destaque --- */
.featured-project {
    border: 2px solid var(--primary-color);
    background: linear-gradient(135deg, var(--bg-secondary-color) 0%, var(--bg-color) 100%);
}

.featured-project .card-title {
    color: var(--primary-color);
}

/* --- Estilos para mensagens do formulário --- */
#form-message {
    margin-bottom: 1.5rem;
}

/* --- Ajustes para seção Sobre Mim --- */
.about-content h3 {
    color: var(--text-color);
}

.about-content h4 {
    color: var(--primary-color);
}

/* --- Acessibilidade: Texto oculto visualmente mas acessível para leitores de tela --- */
.visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
}

/* --- Responsividade para foto de perfil --- */
@media (max-width: 991px) {
    .profile-image {
        width: 250px;
        height: 250px;
    }
}

@media (max-width: 575px) {
    .profile-image {
        width: 200px;
        height: 200px;
    }
}

/* --- Responsividade: Esconder barra social no mobile --- */
@media (max-width: 768px) {
    .social-bar {
        display: none; /* Esconde a barra lateral de redes sociais em telas pequenas */
    }
}

/* --- Barra de Progresso de Scroll --- */
#scroll-progress {
    position: fixed;
    top: 0;
    left: 0;
    width: 0%;
    height: 4px;
    background: linear-gradient(90deg, var(--primary-color), #0d6efd);
    z-index: 10000;
    transition: width 0.1s ease-out;
    box-shadow: 0 2px 4px rgba(var(--primary-color-rgb), 0.3);
}

/* Animação suave para transições entre seções */
section {
    scroll-margin-top: 80px; /* Espaço para o menu fixo */
    transition: opacity 0.3s ease-in-out;
}

/* Efeito de fade-in ao scrollar */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Aplicar animação aos cards de projetos quando visíveis */
.card {
    animation: fadeInUp 0.6s ease-out;
}

/* Melhorar transições de hover nos cards */
.card {
    transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s ease;
}

.card:hover {
    transform: translateY(-8px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
}

/* Animação suave para botões */
.btn {
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.btn:hover::before {
    width: 300px;
    height: 300px;
}

/* Animação de entrada para timeline items */
.timeline-item {
    animation: fadeInUp 0.6s ease-out;
    animation-fill-mode: both;
}

.timeline-item:nth-child(1) { animation-delay: 0.1s; }
.timeline-item:nth-child(2) { animation-delay: 0.2s; }
.timeline-item:nth-child(3) { animation-delay: 0.3s; }
.timeline-item:nth-child(4) { animation-delay: 0.4s; }